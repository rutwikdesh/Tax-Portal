
{% extends "base.html"  %}
{% load static %}
{% block content %}



{% if not payment %}
<div id="app">
<div class="col-6 pt-5  mx-auto">
<div class="text-center">
<img src="{% static 'images/d.png' %}"
style="height:200px" class="img-fluid img-reponsive text-center">
<br>
<h4>Help Rebuild lives of Children</h4>
</div>

    <form class="m" method="post" >
        {% csrf_token %}
        <div class="form-group pt-4">
            <label for="exampleInputEmail1">Your name</label>
            <input  v-model="name" name="name" type="text" class="form-control"
             id="exampleInputEmail1" aria-describedby="emailHelp">
           
          </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Enter Email</label>
          <input type="email"  class="form-control" name="email"
           id="exampleInputPassword1">
        </div>

        <div class="form-group">
          <label for="exampleInputPassword1">Enter Amount</label>
          <input type="number"  class="form-control" name="amount"
           id="exampleInputPassword1">
         
        </div>

        <button class="btn btn-success btn-block" type="submit">Submit</button>
        </form>
{% endif %}

{% if payment %}
        <div class="container mx-auto text-center mt-4" v-if="name && amount">

            <form action="{% url 'success' %}" method="POST">
                <script
                    src="https://checkout.razorpay.com/v1/checkout.js"
                    data-key="rzp_test_ifqXZb84qSL1CP" // Enter the Test API Key ID generated from Dashboard → Settings → API Keys
                    data-amount="{{payment.amount}}"
                    data-currency="INR"//You can accept international payments by changing the currency code. Contact our Support Team to enable International for your account
                    data-order_id="{{ payment.id }}"//Replace with the order_id generated by you in the backend.
                    data-buttontext="Pay with Razorpay"
                    data-name="Donate Corp"
                    data-description="Thanks for donating money."
                    data-image="https://example.com/your_logo.jpg"
                    data-prefill.name="Manik Sharma"
                    data-prefill.email="5@gmil.com"
                    data-prefill.contact="333333333"
                    data-theme.color="#F37254"
                ></script>
                <input type="hidden" custom="Hidden Element" name="hidden">
                </form>
            </div>
{% endif %}     
        </div>
        


</div>







   


    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
        var app = new Vue({
          delimiters: ['[[', ']]'],
          el: '#app',
          data: {
              message: 'Hello Vue!',
              name : null,
              amount : null
              
          },
          methods: {
              greet: function(name) {
                  console.log('Hello from ' + name + '!')
              },
              get : function(){
                console.log(this.name , this.amount)
              }
          },
          watch : {
            amount(){
                console.log(this.amount)
            }
          }
        });
      </script>


<style>
body{
    background :#f5f6f8;
}

</style>
{% endblock %}